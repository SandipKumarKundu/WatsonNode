var app=angular.module("Chat",["ngStorage"]);app.controller("ChatController",["$scope","$localStorage","$filter","$location","$http","$anchorScroll","$timeout",function(t,e,a,n,s,o,i){t.message=[],t.isChatOpenFlag=!1;var h=n.absUrl();console.log(h),t.sendData={},t.Text,t.regions=["ACT","NSW","NT","QLD","SA","TAS","VIC","WA"],t.showButtons=!1,t.TextSent="",t.OpenFeedback=!1,t.rating,t.ratingText=["Hated it","Disliked it","It's OK","Liked it","Loved it"];var g=!1;g||(g=!0,s.post(h+"watson?m="+!0+"&y=&z=Sandip&t="+new Date).then(function(e,a){console.log("success",JSON.stringify(e.data)),t.message.push(e.data);n.hash(t.message.length-1),o(),i(function(){n.hash("")},100)})),t.storeRating=function(e){t.OpenFeedback=!0,t.rating=e+1},t.UnlockChat=function(){t.isChatOpenFlag=!0},t.LockChat=function(){t.isChatOpenFlag=!1},t.sendMessage=function(e){if(t.Text=e,null!=t.Text||void 0!=t.Text){var a={},g=new Date;Timestamp=g.toString();t.sendData={Type:"Sent",Author:"Sandip",Text:t.Text,Time:Timestamp},a.Type=t.sendData.Type,a.Text=t.sendData.Text,a.Author=t.sendData.Author,a.Time=g,t.message.push(a);n.hash(t.message.length-1),o(),i(function(){n.hash("")},100),t.Text="",s.post(h+"watson?m="+!1+"&y="+a.Text+"&z="+a.Author+"&t="+a.Time).then(function(e,a){console.log("success",JSON.stringify(e.data)),t.message.push(e.data);n.hash(t.message.length-1),o(),i(function(){n.hash("")},100)})}}}]);